(()=>{"use strict";var e={n:r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return e.d(s,{a:s}),s},d:(r,s)=>{for(var n in s)e.o(s,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:s[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("react"),s=require("react-dom/server");var n=e.n(s);const t=require("express");var i=e.n(t);const l=require("react-router-dom/server"),o=require("react-router-dom"),a=require("react/jsx-runtime"),u=()=>(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsx)(o.Link,{to:"/red",children:"Red"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.Link,{to:"/blue",children:"Blue"})}),(0,a.jsx)("li",{children:(0,a.jsx)(o.Link,{to:"/users",children:"Users"})})]}),c=()=>(0,a.jsx)("div",{className:"Red",children:"Red"}),d=()=>(0,a.jsx)(c,{}),h=()=>(0,a.jsx)("div",{className:"Blue",children:"Blue"}),x=()=>(0,a.jsx)(h,{}),p=e=>{let{users:r}=e;return r?(0,a.jsx)("div",{children:(0,a.jsx)("ul",{children:r.map((e=>(0,a.jsx)("li",{children:(0,a.jsx)(o.Link,{to:"/users/".concat(e.id),children:e.name})},e.id)))})}):(0,a.jsx)("div",{children:"데이터가 없습니다!"})},j=require("react-redux"),m=require("axios");var v=e.n(m);require("redux-saga/effects");const g="users/GET_USERS_PEDING",y="users/GET_USERS_SUCCESS",S="users/GET_USERS_FAILURE",f="users/GET_USER",E=e=>({type:f,payload:e}),R={users:null,user:null,loading:{users:!1,user:!1},error:{users:null,user:null}},_=(0,r.createContext)(null),q=_,U=e=>{let{resolve:s}=e;const n=(0,r.useContext)(_);return n?(n.done||n.promises.push(Promise.resolve(s())),null):null},b=(0,j.connect)((e=>({users:e.users.users})),{getUsers:()=>async e=>{try{e({type:g});const r=await v().get("https://jsonplaceholder.typicode.com/users");e({type:y,payload:r})}catch(r){throw e({type:S,error:!0,payload:r}),r}}})((e=>{let{users:s,getUsers:n}=e;return(0,r.useEffect)((()=>{s||n()}),[n,s]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{users:s}),(0,a.jsx)(U,{resolve:n})]})})),T=e=>{let{user:r}=e;const{email:s,name:n,username:t}=r;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{children:[t," (",n,")"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"e-mail:"})," ",s]})]})},k=e=>{let{id:s}=e;console.log("sdfs");const n=(0,j.useSelector)((e=>e.users.user)),t=(0,j.useDispatch)();return(0,r.useEffect)((()=>{n&&parseInt(n.id)===parseInt(s,10)||t(E(s))}),[t,s,n]),n?(0,a.jsx)(T,{user:n}):(0,a.jsx)(U,{resolve:()=>t(E(s))})},w=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{}),(0,a.jsx)(o.Routes,{children:(0,a.jsx)(o.Route,{path:"/users/1",element:(0,a.jsx)(k,{})})})]}),P=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{}),(0,a.jsx)("hr",{}),(0,a.jsxs)(o.Routes,{children:[(0,a.jsx)(o.Route,{path:"/red",element:(0,a.jsx)(d,{})}),(0,a.jsx)(o.Route,{path:"/blue",element:(0,a.jsx)(x,{})}),(0,a.jsx)(o.Route,{path:"/users",element:(0,a.jsx)(w,{})})]})]}),C=require("path");var G=e.n(C);const L=require("fs");var O=e.n(L);const A=require("redux"),D=require("redux-thunk"),F=(0,A.combineReducers)({users:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case g:return{...e,loading:{...e.loading,users:!0}};case y:return{...e,loading:{...e.loading,users:!1},users:r.payload.data};case S:return{...e,loading:{...e.loading,users:!1},error:{...e.error,users:r.payload}};case f:return{...e,loading:{...e.loading,user:!0},error:{...e.error,user:null}};case"users/GET_USER_SUCCESS":return{...e,loading:{...e.loading,user:!1},user:r.payload};case"users/GET_USER_FAILURE":return{...e,loading:{...e.loading,user:!1},error:{...e.error,user:r.payload}};default:return e}}}),I=JSON.parse(O().readFileSync(G().resolve("./build/asset-manifest.json"),"utf-8")),N=i()(),B=i().static(G().resolve("./build"),{index:!1});N.use(B),N.use((async(e,r,s)=>{const t=(0,A.createStore)(F,(0,A.applyMiddleware)(D.thunk)),i={done:!1,promises:[]},o=(0,a.jsx)(q.Provider,{value:i,children:(0,a.jsx)(j.Provider,{store:t,children:(0,a.jsx)(l.StaticRouter,{location:e.url,context:[],children:(0,a.jsx)(P,{})})})});n().renderToStaticMarkup(o);try{await Promise.all(i.promises)}catch(e){return r.status(500)}i.done=!0;const u=n().renderToString(o),c=JSON.stringify(t.getState()).replace(/</g,"\\u003c"),d="<script>__PRELOADED_STATE__ = ".concat(c,"<\/script>");r.send(function(e,r){return'<!DOCTYPE html>\n    <html lang="en">\n    <head>\n        <meta charset="utf-8" />\n        <link rel="shortcut icon" href="/favicon.ico" />\n        <meta\n            name="viewport"\n            content="width=decive-width, initial-scale=1, shrink-to-fit=no"\n        />\n        <meta name="theme-color" content="#000000" />\n        <title>React App</title>\n        <link href="'.concat(I.files["main.css"],'" rel="stylesheet" />\n    </head>\n    <body>\n        <noscript>You need to enable JavaScript to run this app.</noscript>\n        <div id="root">\n            ').concat(e,"\n        </div>\n        ").concat(r,'\n        <script src="').concat(I.files["main.js"],'"><\/script>\n    </body>\n    </html>\n    ')}(u,d))})),N.listen(5500,(()=>{console.log("Runnig on http://localhost:5500")}))})();